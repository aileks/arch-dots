# colors
set $rosewater #f5e0dc
set $flamingo #f2cdcd
set $pink #f5c2e7
set $mauve #cba6f7
set $red #f38ba8
set $maroon #eba0ac
set $peach #fab387
set $yellow #f9e2af
set $green #a6e3a1
set $teal #94e2d5
set $sky #89dceb
set $sapphire #74c7ec
set $blue #89b4fa
set $lavender #b4befe
set $text #cdd6f4
set $subtext1 #bac2de
set $subtext0 #a6adc8
set $overlay2 #9399b2
set $overlay1 #7f849c
set $overlay0 #6c7086
set $surface2 #585b70
set $surface1 #45475a
set $surface0 #313244
set $base #1e1e2e
set $mantle #181825
set $crust #11111b

# theme
client.focused           $maroon   $base $text  $rosewater $maroon
client.focused_inactive  $overlay0 $base $text  $rosewater $overlay0
client.unfocused         $overlay0 $base $text  $rosewater $overlay0
client.urgent            $peach    $base $peach $overlay0  $peach
client.placeholder       $overlay0 $base $text  $overlay0  $overlay0
client.background        $base
exec_always {
  gsettings set org.gnome.desktop.interface gtk-theme "Catppuccin-Mocha-Standard-Maroon-Dark"
  gsettings set org.gnome.desktop.interface icon-theme "Papirus-Dark"
  gsettings set org.gnome.desktop.interface cursor-theme "Catppuccin-Mocha-Dark-Cursors"
}

# eye candy
for_window [class=".*"] border pixel 2
gaps inner 8
blur enable
blur_passes 3
blur_radius 5
shadows enable
corner_radius 4
layer_effects 'panel' 'shadows enable'
layer_effects 'notifications' 'blur enable; shadows enable; corner_radius 4'

# font
font pango:FiraCode Nerd Font Propo 10

# input config
input type:keyboard {
  xkb_layout "us"
}
input type:pointer {
  accel_profile "flat"
}

# variables
set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $term wezterm

# monitor and wallpaper
output DP-1 resolution 2560x1440@165Hz adaptive_sync on
output * bg $HOME/Pictures/Wallpapers/galaxies.png fill

# idle management
exec swayidle -w \
         timeout 300 'swaylock -f -c 000000' \
         timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
         before-sleep 'swaylock -f -c 000000ayout stuff:

# sway managment
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+x exec $HOME/.config/i3blocks/scripts/powermenu

# layouts
bindsym $mod+Shift+s layout stacking
bindsym $mod+Shift+t layout tabbed
bindsym $mod+Shift+e layout toggle split

# window management
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle

# workspaces
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"

# switch to workspace
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9

# scratchpad
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# resizing windows
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# audio
bindsym XF86AudioRaiseVolume exec  pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec  pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec  pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec  pactl set-source-mute @DEFAULT_SOURCE@ toggle
bindsym XF86AudioPlay exec  playerctl play-pause
bindsym XF86AudioNext exec  playerctl next
bindsym XF86AudioPrev exec  playerctl previous

# application bindings
bindsym $mod+q kill
bindsym $mod+Return exec $term
bindsym $mod+d exec i3-dmenu-desktop
bindsym $mod+e exec Thunar
bindsym $mod+w exec brave-browser-stable
bindsym $mod+y exec $HOME/Apps/keymapp

# screenshot bindings
bindsym Print exec grimshot --notify save "/home/$USER/Pictures/Screenshots/$(date +'%Y%m%d-%T').png"
bindsym $mod+Print exec grimshot --notify save window "/home/$USER/Pictures/$(date +'%Y%m%d-%T').png"
bindsym Shift+Print exec grimshot --notify save area "/home/$USER/Pictures/Screenshots/$(date +'%Y%m%d-%T').png"
bindsym Ctrl+Print exec grimshot --notify copy area

# bar settings
bar {
  status_command i3blocks
  icon_theme Papirus-Dark
  position top
  height 25
  colors {
      background         $base
      statusline         $text
      focused_statusline $text
      active_workspace   $base $text $blue
      focused_separator  $base
      focused_workspace  $base $base $green
      active_workspace   $base $base $blue
      inactive_workspace $base $base $surface1
      urgent_workspace   $base $base $surface1
      binding_mode       $base $base $surface1
  }
}

# env
exec export XDG_SESSION_TYPE=wayland
exec export GDK_BACKEND=wayland
exec export QT_QPA_PLATFORM=xcb
exec export QT_IM_MODULES="wayland;fcitx;ibus"

# autostart
exec_always fcitx5 -d --replace
exec dunst
exec xrdb -merge $HOME/.Xresources
exec pipewire
exec dex --autostart --environment sway
